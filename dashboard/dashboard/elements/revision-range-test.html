<!doctype html>
<!--
Copyright 2015 The Chromium Authors. All rights reserved.
Use of this source code is governed by a BSD-style license that can be
found in the LICENSE file.
-->
<link rel="import" href="/tracing/core/test_utils.html">

<link rel="import" href="revision-range.html">

<script>
'use strict';

tr.b.unittest.testSuite(function() {

  test('displayRevisionRange works with simple revision ranges', function() {
    var range = document.createElement('revision-range');
    range.setAttribute('start', 20030);
    range.setAttribute('end', 20050);
    assert.equal(range.getDisplayRevisionRange(), '20030 - 20050');
  });

  test('displayRevisionRange works with single revisions', function() {
    var range = document.createElement('revision-range');
    range.setAttribute('start', 20030);
    range.setAttribute('end', 20030);
    assert.equal(range.getDisplayRevisionRange(), '20030');
  });

  test('getDisplayRevisionRange formats Chrome/Chrome OS versions', function() {
    var range = document.createElement('revision-range');
    range.setAttribute('start', 18120000539000000);
    range.setAttribute('end', 18120000539000000);
    assert.equal(
        range.getDisplayRevisionRange(),
        'Cr 1812.0 / CrOS 5390.0.0');
  });

  test('getDisplayRevisionRange formats timestamps', function() {
    var range = document.createElement('revision-range');
    range.setAttribute('start', 1420001111);
    range.setAttribute('end', 1420001111);
    assert.equal(
        range.getDisplayRevisionRange(),
        '2014-12-31T04:45:11.000Z');
  });

});
</script>
